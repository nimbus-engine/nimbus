<?xml version="1.0" encoding="utf-8"?>
<App Name="Nimbus Popup Demo"
     Width="1000" Height="700"
     Theme="Dark"
     DarkMode="true"
     DevMode="true">

    <UI>
        <Grid Background="#121212">
            <Grid.ColumnDefinitions>300,*</Grid.ColumnDefinitions>

            <!-- SIDEBAR -->
            <Border Grid.Column="0" Background="#1E1E1E" 
                    BorderBrush="#333333" BorderThickness="0,0,1,0">
                <StackPanel Margin="20">
                    <TextBlock Text="âš¡ Nimbus" FontSize="24" FontWeight="Bold" 
                               Foreground="#FFFFFF" Margin="0,0,0,30"/>

                    <TextBlock Text="COMPONENTS" FontSize="12" FontWeight="Bold" 
                               Foreground="#666666" Margin="0,0,0,10"/>

                    <NavItem Icon="ðŸ””" Label="Toast Notifications" Active="true" AccentColor="#8B5CF6"/>
                    <NavItem Name="ds" Icon="âš ï¸" Label="Alert Dialogs" AccentColor="#8B5CF6"/>
                    <NavItem Icon="â“" Label="Confirmations" AccentColor="#8B5CF6"/>
                    <NavItem Icon="ðŸªŸ" Label="Modals" AccentColor="#8B5CF6"/>

                </StackPanel>
            </Border>

            <!-- MAIN CONTENT -->
            <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="40">
                    
                    <TextBlock Text="Interactive Popups" FontSize="32" FontWeight="Bold" 
                               Foreground="#FFFFFF" Margin="0,0,0,10"/>
                    <TextBlock Text="Test the new custom popup system features." FontSize="16" 
                               Foreground="#AAAAAA" Margin="0,0,0,40"/>

                    <!-- 1. TOASTS -->
                    <Border Background="#1E1E1E" CornerRadius="12" Padding="24" Margin="0,0,0,24"
                            BorderBrush="#333333" BorderThickness="1">
                        <StackPanel>
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>*,Auto</Grid.ColumnDefinitions>
                                <TextBlock Text="Toast Notifications" FontSize="20" FontWeight="SemiBold" Foreground="#FFFFFF"/>
                                <TextBlock Grid.Column="1" Text="Non-blocking" FontSize="12" Foreground="#666666" VerticalAlignment="Center"/>
                            </Grid>

                            <StackPanel Orientation="Horizontal">
                                <Button Name="successs" Content="Success Toast" 
                                        Background="#10B981" Foreground="White"
                                        CornerRadius="8" Padding="20,10"
                                        onClick="ShowSuccessToast"/>
                                
                                <Border Width="16"/>
                                
                                <Button Name="errorrr" Content="Error Toast" 
                                        Background="#EF4444" Foreground="White"
                                        CornerRadius="8" Padding="20,10"
                                        onClick="ShowErrorToast"/>
                                
                                <Border Width="16"/>
                                
                                <Button Name="btnnnn12" Content="Info Toast" 
                                        Background="#3B82F6" Foreground="White"
                                        CornerRadius="8" Padding="20,10"
                                        onClick="ShowInfoToast"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- 2. ALERTS -->
                    <Border Background="#1E1E1E" CornerRadius="12" Padding="24" Margin="0,0,0,24"
                            BorderBrush="#333333" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Custom Alerts" FontSize="20" FontWeight="SemiBold" 
                                       Foreground="#FFFFFF" Margin="0,0,0,20"/>

                            <StackPanel Orientation="Horizontal">
                                <Button Name="btbeww" Content="Standard Alert" 
                                        Background="#2D2D2D" Foreground="White"
                                        CornerRadius="8" Padding="20,10"
                                        BorderBrush="#444444" BorderThickness="1"
                                        onClick="ShowStandardAlert"/>
                                
                                <Border Width="16"/>
                                
                                <Button Name="btbewdweadew" Content="Custom Design Alert" 
                                        Background="#8B5CF6" Foreground="White"
                                        CornerRadius="8" Padding="20,10"
                                        onClick="ShowCustomAlert"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- 3. CONFIRMATIONS -->
                    <Border Background="#1E1E1E" CornerRadius="12" Padding="24" Margin="0,0,0,24"
                            BorderBrush="#333333" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Confirmations" FontSize="20" FontWeight="SemiBold" 
                                       Foreground="#FFFFFF" Margin="0,0,0,20"/>

                            <StackPanel Orientation="Horizontal">
                                <Button Name="btbeww34" Content="Delete Item (Confirm)" 
                                        Background="#EF444430" Foreground="#EF4444"
                                        CornerRadius="8" Padding="20,10"
                                        BorderBrush="#EF4444" BorderThickness="1"
                                        onClick="ShowDeleteConfirm"/>
                                
                                <Border Width="16"/>
                                
                                <Button Name="btbeww3425" Content="Logout (Confirm)" 
                                        Background="#2D2D2D" Foreground="White"
                                        CornerRadius="8" Padding="20,10"
                                        onClick="ShowLogoutConfirm"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- 4. MODALS -->
                    <Border Background="#1E1E1E" CornerRadius="12" Padding="24"
                            BorderBrush="#333333" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Modals &amp; Drawers" FontSize="20" FontWeight="SemiBold" 
                                       Foreground="#FFFFFF" Margin="0,0,0,20"/>

                            <StackPanel Orientation="Horizontal">
                                <Button Name="btbeww76463" Content="Open Modal" 
                                        Background="#F59E0B" Foreground="Black"
                                        CornerRadius="8" Padding="20,10"
                                        onClick="ShowMyModal"/>
                                
                                <Border Width="16"/>
                                
                                <Button Name="btbeww3542" Content="Open Drawer (Right)" 
                                        Background="#2D2D2D" Foreground="White"
                                        CornerRadius="8" Padding="20,10"
                                        onClick="ShowRightDrawer"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </ScrollViewer>
        </Grid>
    </UI>

    <!-- HIDDEN CONTENT FOR MODAL -->
    <UI>
        <Grid Name="MyModalContent" Width="400" Background="Transparent">
            <StackPanel>
                <TextBlock Text="Edit Profile" FontSize="20" FontWeight="Bold" Foreground="White" Margin="0,0,0,20"/>
                
                <TextBlock Text="Username" Foreground="#888888" Margin="0,0,0,5"/>
                <TextBox Text="nimbus_user" Background="#111111" Foreground="White" 
                         Padding="10" BorderThickness="0" Margin="0,0,0,15"/>
                
                <TextBlock Text="Email" Foreground="#888888" Margin="0,0,0,5"/>
                <TextBox Text="user@example.com" Background="#111111" Foreground="White" 
                         Padding="10" BorderThickness="0" Margin="0,0,0,20"/>
                
                <Button Content="Save Changes" Background="#10B981" Foreground="White" 
                        CornerRadius="6" Padding="0,12" onClick="CloseMyModal"/>
            </StackPanel>
        </Grid>
    </UI>

    <Logic>
        <!-- TOAST HANDLERS -->
        <Handler Name="ShowSuccessToast">
            <Toast Message="Data saved successfully!" Type="success" Position="topright" Duration="3000"/>
        </Handler>

        <Handler Name="ShowErrorToast">
            <Toast Message="Connection failed. Please try again." Type="error" Position="bottomcenter" Duration="4000"/>
        </Handler>

        <Handler Name="ShowInfoToast">
            <Toast Message="New update available (v3.1)" Type="info" Position="topleft" Duration="5000"/>
        </Handler>

        <!-- ALERT HANDLERS -->
        <Handler Name="ShowStandardAlert">
            <Alert Message="This is a standard system alert message." Title="System Info"/>
        </Handler>

        <Handler Name="ShowCustomAlert">
            <Alert Message="Welcome to the future of UI design! ðŸš€" 
                   Title="Custom Design" 
                   Custom="true" 
                   Icon="âœ¨" 
                   Background="#2D2D2D" 
                   ButtonBackground="#8B5CF6"/>
        </Handler>

        <!-- CONFIRM HANDLERS -->
        <Handler Name="ShowDeleteConfirm">
            <Confirm Message="Are you sure you want to delete this file? This cannot be undone." 
                     Title="Delete File" 
                     Custom="true"
                     Icon="ðŸ—‘ï¸"
                     YesText="Delete" NoText="Cancel"
                     YesBackground="#EF4444" NoBackground="#2D2D2D">
                <Yes>
                    <Toast Message="File deleted." Type="success"/>
                </Yes>
                <No>
                    <Toast Message="Action cancelled." Type="info"/>
                </No>
            </Confirm>
        </Handler>

        <Handler Name="ShowLogoutConfirm">
            <Confirm Message="Do you want to log out?" Title="Logout" Custom="true" Icon="ðŸšª">
                <Yes>
                    <Alert Message="Logged out successfully!" Custom="true"/>
                </Yes>
            </Confirm>
        </Handler>

        <!-- MODAL HANDLERS -->
        <Handler Name="ShowMyModal">
            <!-- Modal support logic would go here, currently simulated via Alert for simplicity 
                 unless ExecuteModal is fully implemented in your LogicRunner -->
            <Alert Message="Modal functionality is ready in the engine!" Title="Modal" Custom="true"/>
        </Handler>

        <Handler Name="ShowRightDrawer">
             <Alert Message="Drawer functionality is ready in the engine!" Title="Drawer" Custom="true" Type="BottomSheet"/>
        </Handler>

        <Handler Name="CloseMyModal">
            <!-- Close modal logic -->
        </Handler>
    </Logic>
</App>