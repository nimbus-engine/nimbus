// Auto-generated by Nimbus Build System v3.0
using System;
using System.Windows;
using Nimbus.WPF;

namespace win11
{
    public class Program
    {
        [STAThread]
        public static void Main(string[] args)
        {
            try
            {
                string appXml = @"<?xml version=""1.0"" encoding=""utf-8""?>
<App Name=""Nimbus Dashboard v7 Version""
     Width=""1200"" Height=""750""
     Theme=""Dark""
     DarkMode=""true""
     DevMode=""true""
     Version=""3.0.0""
     OnLoad=""OnAppLoad"">

    <!-- ═══════════════════════════════════════════ -->
    <!--          COMPONENT SYSTEM (Resurslar)       -->
    <!-- ═══════════════════════════════════════════ -->
    <Components>
        <Colors>
            <Color Name=""BgDark"" Value=""#05050A""/>
            <Color Name=""BgSidebar"" Value=""#FFFFFF04""/>
            <Color Name=""BgCard"" Value=""#FFFFFF06""/>
            <Color Name=""BgInput"" Value=""#FFFFFF0F""/>
            <Color Name=""BgHover"" Value=""#FFFFFF10""/>
            <Color Name=""AccentPurple"" Value=""#8B5CF6""/>
            <Color Name=""AccentBlue"" Value=""#3B82F6""/>
            <Color Name=""AccentCyan"" Value=""#06B6D4""/>
            <Color Name=""AccentGreen"" Value=""#10B981""/>
            <Color Name=""AccentOrange"" Value=""#F59E0B""/>
            <Color Name=""AccentRed"" Value=""#EF4444""/>
            <Color Name=""AccentPink"" Value=""#EC4899""/>
            <Color Name=""TextPrimary"" Value=""#F8FAFC""/>
            <Color Name=""TextSecondary"" Value=""#94A3B8""/>
            <Color Name=""TextMuted"" Value=""#64748B""/>
            <Color Name=""BorderDefault"" Value=""#FFFFFF12""/>
            <Color Name=""BorderLight"" Value=""#FFFFFF20""/>
        </Colors>
    </Components>

    <!-- ═══════════════════════════════════════════ -->
    <!--                  UI LAYOUT                  -->
    <!-- ═══════════════════════════════════════════ -->
    <UI>
        <Grid Background=""#05050A"">
            <Grid.ColumnDefinitions>72,*</Grid.ColumnDefinitions>

            <!-- ══════════════════════════════════ -->
            <!--         SIDEBAR (Nav Rail)         -->
            <!-- ══════════════════════════════════ -->
            <Border Grid.Column=""0"" Background=""#FFFFFF04""
                    BorderBrush=""#FFFFFF08"" BorderThickness=""0,0,1,0"">
                <Grid>
                    <Grid.RowDefinitions>Auto,*,Auto</Grid.RowDefinitions>

                    <!-- Logo -->
                    <Border Grid.Row=""0"" Margin=""0,20,0,12""
                            HorizontalAlignment=""Center"">
                        <TextBlock Text=""⚡"" FontSize=""28""
                                   HorizontalAlignment=""Center""/>
                    </Border>

                    <!-- Nav Items -->
                    <StackPanel Grid.Row=""1"" VerticalAlignment=""Top""
                                Margin=""0,8,0,0"">
                        <NavItem Icon=""🏠"" Label=""Home"" Active=""true""
                                 AccentColor=""#8B5CF6"" Name=""navHome""/>
                        <NavItem Icon=""📊"" Label=""Stats""
                                 AccentColor=""#8B5CF6"" Name=""navStats""/>
                        <NavItem Icon=""💬"" Label=""Chat""
                                 AccentColor=""#8B5CF6"" Name=""navChat""/>
                        <NavItem Icon=""🔌"" Label=""Plugins""
                                 AccentColor=""#8B5CF6"" Name=""navPlugins""/>
                        <NavItem Icon=""⚙️"" Label=""Settings""
                                 AccentColor=""#8B5CF6"" Name=""navSettings""/>
                    </StackPanel>

                    <!-- Bottom: User Avatar -->
                    <Border Grid.Row=""2"" Margin=""0,0,0,20""
                            HorizontalAlignment=""Center"">
                        <Avatar Icon=""👤"" Size=""38""
                                GlowColor=""#8B5CF6"" Name=""userAvatar""/>
                    </Border>
                </Grid>
            </Border>

            <!-- ══════════════════════════════════ -->
            <!--          MAIN CONTENT AREA         -->
            <!-- ══════════════════════════════════ -->
            <ScrollViewer Grid.Column=""1""
                          VerticalScrollBarVisibility=""Auto""
                          HorizontalScrollBarVisibility=""Disabled"">
                <StackPanel Margin=""32,24,32,32"">

                    <!-- ─── HEADER ─── -->
                    <Grid Margin=""0,0,0,20"">
                        <Grid.ColumnDefinitions>*,Auto</Grid.ColumnDefinitions>

                        <StackPanel Grid.Column=""0"">
                            <TextBlock Name=""lblGreeting""
                                       Text=""Good Morning, Developer 👋""
                                       FontSize=""28"" FontWeight=""Bold""
                                       Foreground=""#F8FAFC""/>
                            <TextBlock Name=""lblDateTime""
                                       Text=""Loading...""
                                       FontSize=""13"" Foreground=""#64748B""
                                       Margin=""0,6,0,0""/>
                        </StackPanel>

                        <StackPanel Grid.Column=""1""
                                    Orientation=""Horizontal""
                                    VerticalAlignment=""Center"">
                            <IconButton Icon=""🔔"" Size=""42""
                                        Name=""btnNotification""
                                        Background=""#FFFFFF08""/>
                            <Border Width=""10""/>
                            <IconButton Icon=""🌙"" Size=""42""
                                        Name=""btnTheme""
                                        Background=""#FFFFFF08""/>
                            <Border Width=""10""/>
                            <IconButton Icon=""⚙️"" Size=""42""
                                        Name=""btnSettingsTop""
                                        Background=""#FFFFFF08""/>
                        </StackPanel>
                    </Grid>

                    <!-- ─── SEARCH BAR ─── -->
                    <!-- <SearchBar Placeholder=""Search projects, files, commands...""
                               Name=""searchBox""
                               AccentColor=""#8B5CF6""
                               Icon=""🔍""/> -->

                    <!-- ─── STAT CARDS ─── -->
                    <Grid Margin=""0,8,0,0"">
                        <Grid.ColumnDefinitions>*,12,*,12,*,12,*,12,*</Grid.ColumnDefinitions>

                        <StatCard Grid.Column=""0""
                                  Icon=""👥"" Value=""2,847"" Label=""Total Users""
                                  AccentColor=""#8B5CF6"" Name=""statUsers""/>
                        
                        <StatCard Grid.Column=""8""
                                  Icon=""👥"" Value=""2,847"" Label=""Totdsdal Users""
                                  AccentColor=""#8B5CF6"" Name=""statUsers21""/>

                        <StatCard Grid.Column=""2""
                                  Icon=""💰"" Value=""$12.5K"" Label=""Revenue""
                                  AccentColor=""#10B981"" Name=""statRevenue""/>

                        <StatCard Grid.Column=""4""
                                  Icon=""📦"" Value=""384"" Label=""Orders""
                                  AccentColor=""#3B82F6"" Name=""statOrders""/>

                        <StatCard Grid.Column=""6""
                                  Icon=""⭐"" Value=""4.9"" Label=""Rating""
                                  AccentColor=""#F59E0B"" Name=""statRating""/>
                    </Grid>

                    <!-- ─── SECTION: Quick Actions ─── -->
                    <TextBlock Text=""Quick Actions""
                               FontSize=""18"" FontWeight=""SemiBold""
                               Foreground=""#F1F5F9""
                               Margin=""0,28,0,12""
                               Placeholder=""Placeholder...""/>

                    <ActionCard Icon=""📝"" Title=""Create New Project""
                                Subtitle=""Start building something amazing""
                                AccentColor=""#8B5CF6"" Name=""actionNewProject""/>

                    <ActionCard Icon=""📊"" Title=""View Analytics""
                                Subtitle=""Check your performance metrics""
                                AccentColor=""#3B82F6"" Name=""actionAnalytics""/>

                    <ActionCard Icon=""👥"" Title=""Team Management""
                                Subtitle=""Invite and manage team members""
                                AccentColor=""#10B981"" Name=""actionTeam""/>

                    <ActionCard Icon=""🔧"" Title=""System Settings""
                                Subtitle=""Configure your workspace""
                                AccentColor=""#F59E0B"" Name=""actionSettings""/>

                    <Divider Margin=""0,20""/>

                    <!-- ─── SECTION: Counter Demo ─── -->  
                    <TextBlock Text=""Interactive Demo""
                               FontSize=""18"" FontWeight=""SemiBold""
                               Foreground=""#F1F5F9""
                               Margin=""0,8,0,12""/>

                    <GlassCard Padding=""28"" Margin=""0,0,0,16""
                               GlowColor=""#8B5CF620"">
                        <StackPanel>
                            <StackPanel Orientation=""Horizontal""
                                        Margin=""0,0,0,4"">
                                <TextBlock Text=""⚡"" FontSize=""18""
                                           Margin=""0,0,8,0""/>
                                <TextBlock Text=""Counter Demo""
                                           FontSize=""17"" FontWeight=""SemiBold""
                                           Foreground=""#E2E8F0""/>
                            </StackPanel>

                            <TextBlock Text=""Test the reactive state management system""
                                       FontSize=""12"" Foreground=""#64748B""
                                       Margin=""0,0,0,20""/>

                            <Grid>
                                <Grid.ColumnDefinitions>Auto,20,Auto,20,Auto,*,Auto</Grid.ColumnDefinitions>

                                <Button Name=""btnDecrement"" Content=""−""
                                        Grid.Column=""0""
                                        Background=""#EF444430""
                                        Foreground=""#F87171""
                                        CornerRadius=""14""
                                        Padding=""20,12""
                                        FontSize=""20"" FontWeight=""Bold""
                                        HoverColor=""#EF444450""
                                        onClick=""OnDecrement""/>

                                <TextBlock Name=""lblCounter""
                                           Grid.Column=""2""
                                           Text=""0"" FontSize=""42""
                                           FontWeight=""Bold""
                                           Foreground=""#F8FAFC""
                                           VerticalAlignment=""Center""
                                           HorizontalAlignment=""Center""
                                           Width=""100""
                                           TextAlignment=""Center""/>

                                <Button Name=""btnIncrement"" Content=""+""
                                        Grid.Column=""6""
                                        Background=""#10B98130""
                                        Foreground=""#34D399""
                                        CornerRadius=""14""
                                        Padding=""20,12""
                                        FontSize=""20"" FontWeight=""Bold""
                                        HoverColor=""#10B98150""
                                        onClick=""OnIncrement""/>

                                <Button Name=""btnReset"" Content=""↺ Reset""
                                        Grid.Column=""7""
                                        Background=""#FFFFFF08""
                                        Foreground=""#94A3B8""
                                        CornerRadius=""12""
                                        Padding=""20,10""
                                        FontSize=""13""
                                        onClick=""OnReset""/>
                            </Grid>

                            <!-- Status bar -->
                            <Border Background=""#FFFFFF06""
                                    CornerRadius=""10""
                                    Padding=""14,10""
                                    Margin=""0,20,0,0"">
                                <StackPanel Orientation=""Horizontal"">
                                    <StatusIndicator Status=""active"" Size=""8""
                                                     Margin=""0,0,8,0""/>
                                    <TextBlock Name=""lblCounterStatus""
                                               Text=""Ready — Click + or − to start""
                                               FontSize=""12""
                                               Foreground=""#64748B""/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </GlassCard>

                    <!-- ─── SECTION: Form Demo ─── -->
                    <GlassCard Padding=""28"" Margin=""0,0,0,16""
                               GlowColor=""#3B82F620"">
                        <StackPanel>
                            <StackPanel Orientation=""Horizontal""
                                        Margin=""0,0,0,4"">
                                <TextBlock Text=""📋"" FontSize=""18""
                                           Margin=""0,0,8,0""/>
                                <TextBlock Text=""Form Demo""
                                           FontSize=""17"" FontWeight=""SemiBold""
                                           Foreground=""#E2E8F0""/>
                            </StackPanel>

                            <TextBlock Text=""Windows 11 styled input controls with validation""
                                       FontSize=""12"" Foreground=""#64748B""
                                       Margin=""0,0,0,20""/>

                            <!-- Name Input -->
                            <TextBlock Text=""Full Name"" FontSize=""12""
                                       Foreground=""#94A3B8"" Margin=""0,0,0,6""/>
                            <TextBox Name=""txtName""
                                     Placeholder=""Enter your full name...""
                                     FocusBorderColor=""#8B5CF6""
                                     Margin=""0,0,0,16""/>

                            <!-- Email Input -->
                            <TextBlock Text=""Email Address"" FontSize=""12""
                                       Foreground=""#94A3B8"" Margin=""0,0,0,6""/>
                            <TextBox Name=""txtEmail""
                                     Placeholder=""your@email.com""
                                     FocusBorderColor=""#3B82F6""
                                     Margin=""0,0,0,16""/>

                            <!-- Message Input -->
                            <TextBlock Text=""Message"" FontSize=""12""
                                       Foreground=""#94A3B8"" Margin=""0,0,0,6""/>
                            <TextBox Name=""txtMessage""
                                     Placeholder=""Write your message here...""
                                     FocusBorderColor=""#06B6D4""
                                     Multiline=""true""
                                     Height=""80""
                                     Margin=""0,0,0,20""/>

                            <!-- Buttons Row -->
                            <StackPanel Orientation=""Horizontal"">
                                <Button Name=""btnSubmit""
                                        Content=""✓  Submit""
                                        Background=""#8B5CF6""
                                        Foreground=""White""
                                        CornerRadius=""12""
                                        Padding=""28,12""
                                        FontSize=""14"" FontWeight=""SemiBold""
                                        HoverColor=""#7C3AED""
                                        PressedColor=""#6D28D9""
                                        Shadow=""true""
                                        onClick=""OnSubmit""/>

                                <Border Width=""12""/>

                                <Button Name=""btnClearForm""
                                        Content=""Clear""
                                        Background=""#FFFFFF08""
                                        Foreground=""#94A3B8""
                                        CornerRadius=""12""
                                        Padding=""28,12""
                                        FontSize=""14""
                                        onClick=""OnClearForm""/>

                                <Border Width=""12""/>

                                <Button Name=""btnCopyResult""
                                        Content=""📋 Copy""
                                        Background=""#FFFFFF08""
                                        Foreground=""#94A3B8""
                                        CornerRadius=""12""
                                        Padding=""28,12""
                                        FontSize=""14""
                                        onClick=""OnCopyResult""/>
                            </StackPanel>

                            <!-- Result Display -->
                            <Border Name=""resultBox""
                                    Background=""#10B98115""
                                    CornerRadius=""10""
                                    Padding=""14,10""
                                    Margin=""0,16,0,0""
                                    Visibility=""Collapsed"">
                                <TextBlock Name=""lblFormResult""
                                           Text=""""
                                           FontSize=""13""
                                           Foreground=""#34D399""
                                           TextWrapping=""Wrap""/>
                            </Border>
                        </StackPanel>
                    </GlassCard>

                    <!-- ─── SECTION: Button Gallery ─── -->
                    <GlassCard Padding=""28"" Margin=""0,0,0,16""
                               GlowColor=""#06B6D420"">
                        <StackPanel>
                            <StackPanel Orientation=""Horizontal""
                                        Margin=""0,0,0,4"">
                                <TextBlock Text=""🎨"" FontSize=""18""
                                           Margin=""0,0,8,0""/>
                                <TextBlock Text=""Button Gallery""
                                           FontSize=""17"" FontWeight=""SemiBold""
                                           Foreground=""#E2E8F0""/>
                            </StackPanel>

                            <TextBlock Text=""Various Win11-style button variants""
                                       FontSize=""12"" Foreground=""#64748B""
                                       Margin=""0,0,0,20""/>

                            <!-- Row 1: Accent Buttons -->
                            <StackPanel Orientation=""Horizontal""
                                        Margin=""0,0,0,12"">
                                <Button Content=""Primary""
                                        Background=""#8B5CF6""
                                        Foreground=""White""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#7C3AED""
                                        Shadow=""true""/>
                                <Border Width=""8""/>

                                <Button Content=""Success""
                                        Background=""#10B981""
                                        Foreground=""White""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#059669""/>
                                <Border Width=""8""/>

                                <Button Content=""Danger""
                                        Background=""#EF4444""
                                        Foreground=""White""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#DC2626""/>
                                <Border Width=""8""/>

                                <Button Content=""Warning""
                                        Background=""#F59E0B""
                                        Foreground=""#000000""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#D97706""/>
                                <Border Width=""8""/>

                                <Button Content=""Info""
                                        Background=""#3B82F6""
                                        Foreground=""White""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#2563EB""/>
                            </StackPanel>

                            <!-- Row 2: Ghost/Outline Buttons -->
                            <StackPanel Orientation=""Horizontal""
                                        Margin=""0,0,0,12"">
                                <Button Content=""Ghost""
                                        Background=""#FFFFFF08""
                                        Foreground=""#E2E8F0""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#FFFFFF15""/>
                                <Border Width=""8""/>

                                <Button Content=""Outlined""
                                        Background=""Transparent""
                                        Foreground=""#8B5CF6""
                                        BorderBrush=""#8B5CF650""
                                        BorderThickness=""1""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#8B5CF615""/>
                                <Border Width=""8""/>

                                <Button Content=""Subtle""
                                        Background=""#FFFFFF05""
                                        Foreground=""#94A3B8""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        HoverColor=""#FFFFFF10""/>
                                <Border Width=""8""/>

                                <Button Name=""btnDisabledDemo""
                                        Content=""Disabled""
                                        Background=""#FFFFFF08""
                                        Foreground=""#475569""
                                        CornerRadius=""10""
                                        Padding=""24,10""
                                        FontSize=""13""
                                        IsEnabled=""False""/>
                            </StackPanel>

                            <!-- Row 3: Icon Buttons -->
                            <StackPanel Orientation=""Horizontal"">
                                <GlassButton Icon=""🚀"" AccentColor=""#8B5CF6""
                                             Size=""44"" CornerRadius=""14""/>
                                <Border Width=""8""/>
                                <GlassButton Icon=""💎"" AccentColor=""#3B82F6""
                                             Size=""44"" CornerRadius=""14""/>
                                <Border Width=""8""/>
                                <GlassButton Icon=""🔥"" AccentColor=""#EF4444""
                                             Size=""44"" CornerRadius=""14""/>
                                <Border Width=""8""/>
                                <GlassButton Icon=""⚡"" AccentColor=""#F59E0B""
                                             Size=""44"" CornerRadius=""14""/>
                                <Border Width=""8""/>
                                <GlassButton Icon=""🌊"" AccentColor=""#06B6D4""
                                             Size=""44"" CornerRadius=""14""/>
                                <Border Width=""8""/>
                                <GlassButton Icon=""🌿"" AccentColor=""#10B981""
                                             Size=""44"" CornerRadius=""14""/>
                                <Border Width=""8""/>
                                <GlassButton Icon=""💜"" AccentColor=""#EC4899""
                                             Size=""44"" CornerRadius=""14""/>
                            </StackPanel>
                        </StackPanel>
                    </GlassCard>

                    <!-- ─── SECTION: System Info ─── -->
                    <GlassCard Padding=""28"" Margin=""0,0,0,16""
                               GlowColor=""#10B98120"">
                        <StackPanel>
                            <StackPanel Orientation=""Horizontal""
                                        Margin=""0,0,0,16"">
                                <TextBlock Text=""💻"" FontSize=""18""
                                           Margin=""0,0,8,0""/>
                                <TextBlock Text=""System Information""
                                           FontSize=""17"" FontWeight=""SemiBold""
                                           Foreground=""#E2E8F0""/>
                            </StackPanel>

                            <Grid>
                                <Grid.ColumnDefinitions>*,16,*</Grid.ColumnDefinitions>

                                <StackPanel Grid.Column=""0"">
                                    <Border Background=""#FFFFFF06""
                                            CornerRadius=""10""
                                            Padding=""14,10""
                                            Margin=""0,0,0,8"">
                                        <StackPanel Orientation=""Horizontal"">
                                            <TextBlock Text=""Engine:""
                                                       FontSize=""12""
                                                       Foreground=""#64748B""
                                                       Width=""90""/>
                                            <TextBlock Name=""lblEngine""
                                                       Text=""Nimbus v3.0.0""
                                                       FontSize=""12""
                                                       Foreground=""#E2E8F0""/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background=""#FFFFFF06""
                                            CornerRadius=""10""
                                            Padding=""14,10""
                                            Margin=""0,0,0,8"">
                                        <StackPanel Orientation=""Horizontal"">
                                            <TextBlock Text=""OS:""
                                                       FontSize=""12""
                                                       Foreground=""#64748B""
                                                       Width=""90""/>
                                            <TextBlock Name=""lblOS""
                                                       Text=""Loading...""
                                                       FontSize=""12""
                                                       Foreground=""#E2E8F0""/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background=""#FFFFFF06""
                                            CornerRadius=""10""
                                            Padding=""14,10"">
                                        <StackPanel Orientation=""Horizontal"">
                                            <TextBlock Text=""User:""
                                                       FontSize=""12""
                                                       Foreground=""#64748B""
                                                       Width=""90""/>
                                            <TextBlock Name=""lblUser""
                                                       Text=""Loading...""
                                                       FontSize=""12""
                                                       Foreground=""#E2E8F0""/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>

                                <StackPanel Grid.Column=""2"">
                                    <Border Background=""#FFFFFF06""
                                            CornerRadius=""10""
                                            Padding=""14,10""
                                            Margin=""0,0,0,8"">
                                        <StackPanel Orientation=""Horizontal"">
                                            <TextBlock Text=""CLR:""
                                                       FontSize=""12""
                                                       Foreground=""#64748B""
                                                       Width=""90""/>
                                            <TextBlock Name=""lblCLR""
                                                       Text=""Loading...""
                                                       FontSize=""12""
                                                       Foreground=""#E2E8F0""/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background=""#FFFFFF06""
                                            CornerRadius=""10""
                                            Padding=""14,10""
                                            Margin=""0,0,0,8"">
                                        <StackPanel Orientation=""Horizontal"">
                                            <TextBlock Text=""Controls:""
                                                       FontSize=""12""
                                                       Foreground=""#64748B""
                                                       Width=""90""/>
                                            <TextBlock Name=""lblControls""
                                                       Text=""0""
                                                       FontSize=""12""
                                                       Foreground=""#10B981""/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background=""#FFFFFF06""
                                            CornerRadius=""10""
                                            Padding=""14,10"">
                                        <StackPanel Orientation=""Horizontal"">
                                            <TextBlock Text=""Handlers:""
                                                       FontSize=""12""
                                                       Foreground=""#64748B""
                                                       Width=""90""/>
                                            <TextBlock Name=""lblHandlers""
                                                       Text=""0""
                                                       FontSize=""12""
                                                       Foreground=""#8B5CF6""/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </GlassCard>

                    <!-- Footer Spacing -->
                    <Border Height=""24""/>

                </StackPanel>
            </ScrollViewer>
        </Grid>
    </UI>

    <!-- ═══════════════════════════════════════════ -->
    <!--                LOGIC SECTION                -->
    <!-- ═══════════════════════════════════════════ -->
    <Logic>
        <!-- ── State Variables ── -->
        <Var Name=""counter"" Value=""0"" Type=""int""/>
        <Var Name=""totalClicks"" Value=""0"" Type=""int""/>
        <Var Name=""userName"" Value="""" Type=""string""/>
        <Var Name=""userEmail"" Value="""" Type=""string""/>
        <Var Name=""userMessage"" Value="""" Type=""string""/>

        <!-- ══════════════════════════════════ -->
        <!--           APP LIFECYCLE            -->
        <!-- ══════════════════════════════════ -->
        <Handler Name=""OnAppLoad"">
            <!-- Set greeting based on time -->
            <Set Target=""lblDateTime"" Property=""Text""
                 Value=""Today is {_currentDate} • {_currentTime}""/>
            
            <!-- System info -->
            <Set Target=""lblEngine"" Property=""Text""
                 Value=""Nimbus v{_engineVersion}""/>
            <Set Target=""lblOS"" Property=""Text""
                 Value=""{_osName} (Build {_osBuild})""/>
            <Set Target=""lblUser"" Property=""Text""
                 Value=""{_userName}@{_machineName}""/>
            <Set Target=""lblCLR"" Property=""Text""
                 Value="".NET {_clrVersion}""/>
            <Set Target=""lblControls"" Property=""Text""
                 Value=""{_controlCount}""/>
            <Set Target=""lblHandlers"" Property=""Text""
                 Value=""{_handlerCount}""/>

            <!-- Start clock timer -->
            <Timer Name=""clockTick"" Interval=""1000""
                   Handler=""OnClockTick"" Repeat=""true""/>
        </Handler>

        <Handler Name=""OnClockTick"">
            <Set Target=""lblDateTime"" Property=""Text""
                 Value=""Today is {_currentDate} • {_currentTime}""/>
        </Handler>

        <!-- ══════════════════════════════════ -->
        <!--         COUNTER HANDLERS           -->
        <!-- ══════════════════════════════════ -->
        <Handler Name=""OnIncrement"">
            <Increment Var=""counter"" By=""1""/>
            <Increment Var=""totalClicks"" By=""1""/>
            <Set Target=""lblCounter"" Property=""Text""
                 Value=""{counter}""/>

            <!-- Color change based on value -->
            <If Condition=""{counter} > 0"">
                <Set Target=""lblCounter"" Property=""Foreground""
                     Value=""#34D399""/>
                <Set Target=""lblCounterStatus"" Property=""Text""
                     Value=""🟢 Positive: {counter} (Total clicks: {totalClicks})""/>
            </If>
            <If Condition=""{counter} >= 10"">
                <Set Target=""lblCounterStatus"" Property=""Text""
                     Value=""🔥 On fire! Counter: {counter}""/>
            </If>
            <If Condition=""{counter} >= 50"">
                <Alert Message=""You reached 50! Incredible! 🎉""
                       Title=""Achievement Unlocked"" Icon=""Information""/>
                <Set Var=""counter"" Value=""0""/>
                <Set Target=""lblCounter"" Property=""Text"" Value=""0""/>
            </If>
        </Handler>

        <Handler Name=""OnDecrement"">
            <Decrement Var=""counter"" By=""1""/>
            <Increment Var=""totalClicks"" By=""1""/>
            <Set Target=""lblCounter"" Property=""Text""
                 Value=""{counter}""/>

            <If Condition=""{counter} &lt; 0"">
                <Set Target=""lblCounter"" Property=""Foreground""
                     Value=""#F87171""/>
                <Set Target=""lblCounterStatus"" Property=""Text""
                     Value=""🔴 Negative: {counter} (Total clicks: {totalClicks})""/>
            </If>
            <If Condition=""{counter} == 0"">
                <Set Target=""lblCounter"" Property=""Foreground""
                     Value=""#F8FAFC""/>
                <Set Target=""lblCounterStatus"" Property=""Text""
                     Value=""⚪ Zero — balanced""/>
            </If>
        </Handler>

        <Handler Name=""OnReset"">
            <Set Var=""counter"" Value=""0""/>
            <Set Var=""totalClicks"" Value=""0""/>
            <Set Target=""lblCounter"" Property=""Text"" Value=""0""/>
            <Set Target=""lblCounter"" Property=""Foreground""
                 Value=""#F8FAFC""/>
            <Set Target=""lblCounterStatus"" Property=""Text""
                 Value=""Ready — Click + or − to start""/>
        </Handler>

        <!-- ══════════════════════════════════ -->
        <!--          FORM HANDLERS             -->
        <!-- ══════════════════════════════════ -->
        <Handler Name=""OnSubmit"">
            <Get Control=""txtName"" Property=""Text""
                 ToState=""userName""/>
            <Get Control=""txtEmail"" Property=""Text""
                 ToState=""userEmail""/>
            <Get Control=""txtMessage"" Property=""Text""
                 ToState=""userMessage""/>

            <If Condition=""{userName} == "">
                <Alert Message=""Please enter your name!""
                       Title=""Validation Error"" Icon=""Warning""/>
            </If>

            <If Condition=""{userName} != "">
                <Show Control=""resultBox"" Animate=""true""
                      Duration=""300""/>
                <Set Target=""lblFormResult"" Property=""Text""
                     Value=""✅ Submitted!  Name: {userName}  |  Email: {userEmail}  |  Message: {userMessage}""/>

                <Set Target=""lblCounterStatus"" Property=""Text""
                     Value=""📋 Form submitted by {userName}""/>
            </If>
        </Handler>

        <Handler Name=""OnClearForm"">
            <Set Target=""txtName"" Property=""Text"" Value=""""/>
            <Set Target=""txtEmail"" Property=""Text"" Value=""""/>
            <Set Target=""txtMessage"" Property=""Text"" Value=""""/>
            <Hide Control=""resultBox"" Animate=""true""
                  Duration=""200""/>
            <Set Var=""userName"" Value=""""/>
            <Set Var=""userEmail"" Value=""""/>
            <Set Var=""userMessage"" Value=""""/>
        </Handler>

        <Handler Name=""OnCopyResult"">
            <Get Control=""lblFormResult"" Property=""Text""
                 ToState=""clipText""/>
            <If Condition=""{clipText} != "">
                <Copy Text=""{clipText}""/>
                <Alert Message=""Copied to clipboard!""
                       Title=""Success"" Icon=""Information""/>
            </If>
            <If Condition=""{clipText} == "">
                <Alert Message=""Nothing to copy. Submit the form first.""
                       Title=""Info"" Icon=""Warning""/>
            </If>
        </Handler>
    </Logic>
</App>";
                WpfEngine engine = new WpfEngine();
                engine.IsDevMode = false;
                engine.Run(appXml, true);
            }
            catch (Exception ex)
            {
                MessageBox.Show("Error:\n" + ex.Message, "win11", MessageBoxButton.OK, MessageBoxImage.Error);
            }
        }
    }
}
